<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Passion Hills Table Tennis Club - Management System</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-table-tennis"></i>
                <h1>Passion Hills Table Tennis Club</h1>
            </div>
            <div class="header-actions">
                <div class="notification-icon-container" onclick="ttClub.toggleNotificationDropdown()">
                    <i class="fas fa-bell notification-bell"></i>
                    <span id="notification-badge" class="notification-badge" style="display: none;">0</span>

                    <!-- Notification Dropdown -->
                    <div id="notification-dropdown" class="notification-dropdown" style="display: none;">
                        <div class="notification-dropdown-header">
                            <h3>Upcoming Events</h3>
                            <button class="btn-close-dropdown" onclick="ttClub.closeNotificationDropdown()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div id="notification-dropdown-content" class="notification-dropdown-content">
                            <!-- Upcoming events will be populated here -->
                        </div>
                        <div class="notification-dropdown-footer">
                            <button class="btn btn-primary btn-small" onclick="ttClub.viewAllEvents()">
                                <i class="fas fa-calendar-alt"></i> View All Events
                            </button>
                        </div>
                    </div>
                </div>
                <button class="btn btn-success btn-small" id="quick-save" title="Save Data">
                    <i class="fas fa-save"></i>
                </button>
                <nav class="nav">
                    <button class="nav-btn active" data-section="dashboard">
                        <i class="fas fa-tachometer-alt"></i> Dashboard
                    </button>
                    <button class="nav-btn" data-section="members">
                        <i class="fas fa-users"></i> Members
                    </button>
                    <div class="nav-dropdown">
                        <button class="nav-btn dropdown-toggle" data-section="financial">
                            <i class="fas fa-coins"></i> Financial Management
                            <i class="fas fa-chevron-down dropdown-arrow"></i>
                        </button>
                        <div class="nav-dropdown-menu financial-menu">
                            <!-- Fees Section -->
                            <div class="dropdown-section">
                                <div class="dropdown-section-header">
                                    <i class="fas fa-money-bill-wave"></i> Fees
                                </div>
                                <button class="nav-dropdown-item" data-section="fees" data-subsection="collection">
                                    <i class="fas fa-hand-holding-usd"></i> Fee Collection
                                </button>
                                <button class="nav-dropdown-item" data-section="fees" data-subsection="pending">
                                    <i class="fas fa-clock"></i> Pending Fees
                                </button>
                                <button class="nav-dropdown-item" data-section="fees" data-subsection="years">
                                    <i class="fas fa-calendar-check"></i> Fee Years
                                </button>
                                <button class="nav-dropdown-item" data-section="fees" data-subsection="reports">
                                    <i class="fas fa-chart-line"></i> Fee Reports
                                </button>
                            </div>

                            <!-- Invoices Section -->
                            <div class="dropdown-section">
                                <div class="dropdown-section-header">
                                    <i class="fas fa-file-invoice"></i> Invoices
                                </div>
                                <button class="nav-dropdown-item" data-section="invoices" data-subsection="generate">
                                    <i class="fas fa-file-plus"></i> Generate Invoice
                                </button>
                                <button class="nav-dropdown-item" data-section="invoices" data-subsection="manage">
                                    <i class="fas fa-list"></i> Manage Invoices
                                </button>
                                <button class="nav-dropdown-item" data-section="invoices" data-subsection="templates">
                                    <i class="fas fa-file-alt"></i> Invoice Templates
                                </button>
                                <button class="nav-dropdown-item" data-section="invoices" data-subsection="reports">
                                    <i class="fas fa-chart-bar"></i> Invoice Reports
                                </button>
                            </div>

                            <!-- Expenses Section -->
                            <div class="dropdown-section">
                                <div class="dropdown-section-header">
                                    <i class="fas fa-receipt"></i> Expenses
                                </div>
                                <button class="nav-dropdown-item" data-section="expenses" data-subsection="add">
                                    <i class="fas fa-plus"></i> Add Expense
                                </button>
                                <button class="nav-dropdown-item" data-section="expenses" data-subsection="manage">
                                    <i class="fas fa-list"></i> Manage Expenses
                                </button>
                                <button class="nav-dropdown-item" data-section="expenses" data-subsection="categories">
                                    <i class="fas fa-tags"></i> Categories
                                </button>
                                <button class="nav-dropdown-item" data-section="expenses" data-subsection="reports">
                                    <i class="fas fa-chart-line"></i> Expense Reports
                                </button>
                            </div>

                            <!-- Contributions Section -->
                            <div class="dropdown-section">
                                <div class="dropdown-section-header">
                                    <i class="fas fa-hand-holding-usd"></i> Contributions
                                </div>
                                <button class="nav-dropdown-item" data-section="contributions" data-subsection="add">
                                    <i class="fas fa-plus"></i> Add Contribution
                                </button>
                                <button class="nav-dropdown-item" data-section="contributions" data-subsection="manage">
                                    <i class="fas fa-list"></i> Manage Contributions
                                </button>
                                <button class="nav-dropdown-item" data-section="contributions" data-subsection="types">
                                    <i class="fas fa-category"></i> Contribution Types
                                </button>
                                <button class="nav-dropdown-item" data-section="contributions" data-subsection="reports">
                                    <i class="fas fa-chart-pie"></i> Contribution Reports
                                </button>
                            </div>
                        </div>
                    </div>
                    <button class="nav-btn" data-section="events">
                        <i class="fas fa-calendar-alt"></i> Events
                    </button>
                    <button class="nav-btn" data-section="reports">
                        <i class="fas fa-chart-bar"></i> Reports
                    </button>
                </nav>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Section -->
            <section id="dashboard" class="section active">
                <h2>Dashboard</h2>
                <div class="stats-grid">
                    <div class="stat-card clickable" data-navigate="members" title="View all members">
                        <i class="fas fa-users"></i>
                        <div class="stat-info">
                            <h3 id="total-members">0</h3>
                            <p>Total Members</p>
                        </div>
                        <div class="stat-card-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                    <div class="stat-card clickable" data-navigate="members" data-filter="active" title="View active members">
                        <i class="fas fa-user-check"></i>
                        <div class="stat-info">
                            <h3 id="active-members">0</h3>
                            <p>Active Members</p>
                        </div>
                        <div class="stat-card-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                    <div class="stat-card clickable" data-navigate="fees" title="View fee management">
                        <i class="fas fa-rupee-sign"></i>
                        <div class="stat-info">
                            <h3 id="total-collected">₹0</h3>
                            <p>Total Collected</p>
                        </div>
                        <div class="stat-card-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                    <div class="stat-card clickable" data-navigate="fees" data-filter="pending" title="View pending payments">
                        <i class="fas fa-exclamation-triangle"></i>
                        <div class="stat-info">
                            <h3 id="pending-payments">0</h3>
                            <p>Pending Payments</p>
                        </div>
                        <div class="stat-card-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                </div>
                
                <div class="recent-activities">
                    <h3>Recent Activities</h3>
                    <div id="recent-activities-list" class="activities-list">
                        <!-- Activities will be populated by JavaScript -->
                    </div>
                </div>
            </section>

            <!-- Members Section -->
            <section id="members" class="section">
                <div class="section-header">
                    <h2>Member Management</h2>
                    <button class="btn btn-primary" id="add-member-btn">
                        <i class="fas fa-plus"></i> Add New Member
                    </button>
                </div>
                
                <div class="search-filter">
                    <input type="text" id="member-search" placeholder="Search members..." class="search-input">
                    <select id="status-filter" class="filter-select">
                        <option value="">All Status</option>
                        <option value="FOUNDING MEMBER">Founding Member</option>
                        <option value="NEW MEMBER">New Member</option>
                        <option value="APPROVED FOR MEMBERSHIP">Approved</option>
                        <option value="Inactive">Inactive</option>
                    </select>
                </div>

                <div class="member-legend">
                    <div class="legend-item">
                        <i class="fas fa-crown" style="color: #f39c12;"></i>
                        <span>Founding Members (highlighted rows)</span>
                    </div>
                    <div class="legend-item">
                        <span class="unpaid-indicator">₹0</span>
                        <span>Unpaid fees</span>
                    </div>
                    <div class="legend-item">
                        <i class="fas fa-pause-circle" style="color: #6c757d;"></i>
                        <span>Inactive members</span>
                    </div>
                </div>

                <div class="table-container">
                    <div class="mobile-scroll-hint">← Scroll horizontally to see all columns →</div>
                    <table class="members-table">
                        <thead id="members-table-header">
                            <!-- Headers will be populated by JavaScript -->
                        </thead>
                        <tbody id="members-table-body">
                            <!-- Members will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Fees Section -->
            <section id="fees" class="section">
                <div class="section-header">
                    <h2>Fee Management</h2>
                    <div class="fee-subsection-nav">
                        <button class="subsection-btn active" data-subsection="collection">
                            <i class="fas fa-hand-holding-usd"></i> Fee Collection
                        </button>
                        <button class="subsection-btn" data-subsection="pending">
                            <i class="fas fa-clock"></i> Pending Fees
                        </button>
                        <button class="subsection-btn" data-subsection="years">
                            <i class="fas fa-calendar-check"></i> Fee Years
                        </button>
                        <button class="subsection-btn" data-subsection="reports">
                            <i class="fas fa-chart-line"></i> Fee Reports
                        </button>
                    </div>
                </div>

                <!-- Fee Collection Subsection -->
                <div id="fee-collection" class="fee-subsection active">
                    <div class="subsection-header">
                        <h3>Fee Collection</h3>
                        <button class="btn btn-primary" id="collect-fee-btn">
                            <i class="fas fa-money-bill-wave"></i> Collect Fee
                        </button>
                    </div>
                    <div class="fee-summary">
                        <div class="fee-card">
                            <h3>Annual Fee 2023</h3>
                            <p>Collected: <span id="fee-2023-collected">₹0</span></p>
                            <p>Pending: <span id="fee-2023-pending">₹0</span></p>
                        </div>
                        <div class="fee-card">
                            <h3>Annual Fee 2024</h3>
                            <p>Collected: <span id="fee-2024-collected">₹0</span></p>
                            <p>Pending: <span id="fee-2024-pending">₹0</span></p>
                        </div>
                        <div class="fee-card">
                            <h3>Annual Fee 2025</h3>
                            <p>Collected: <span id="fee-2025-collected">₹0</span></p>
                            <p>Pending: <span id="fee-2025-pending">₹0</span></p>
                        </div>
                    </div>
                </div>

                <!-- Pending Fees Subsection -->
                <div id="fee-pending" class="fee-subsection">
                    <div class="subsection-header">
                        <h3>Pending Fee Collections</h3>
                        <button class="btn btn-secondary" id="add-pending-fee-btn">
                            <i class="fas fa-plus"></i> Add Pending Fee
                        </button>
                    </div>
                    <div id="pending-fees-list" class="pending-list">
                        <p class="empty-state">No pending fees added. Click "Add Pending Fee" to create pending fee records.</p>
                    </div>
                </div>

                <!-- Fee Years Subsection -->
                <div id="fee-years" class="fee-subsection">
                    <div class="subsection-header">
                        <h3>Fee Years Management</h3>
                        <button class="btn btn-primary" id="manage-fee-years-btn">
                            <i class="fas fa-calendar-plus"></i> Manage Fee Years
                        </button>
                    </div>
                    <div class="fee-years-content">
                        <p>Manage fee years and amounts for different periods.</p>
                        <!-- Fee years management content will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Fee Reports Subsection -->
                <div id="fee-reports" class="fee-subsection">
                    <div class="subsection-header">
                        <h3>Fee Reports & Analytics</h3>
                        <div class="report-actions">
                            <button class="btn btn-success btn-small" id="export-fee-report">
                                <i class="fas fa-download"></i> Export Report
                            </button>
                        </div>
                    </div>
                    <div class="fee-reports-content">
                        <div class="report-summary">
                            <div class="report-card">
                                <h4>Total Collections</h4>
                                <p class="report-value" id="total-collections">₹0</p>
                            </div>
                            <div class="report-card">
                                <h4>Pending Amount</h4>
                                <p class="report-value" id="total-pending">₹0</p>
                            </div>
                            <div class="report-card">
                                <h4>Collection Rate</h4>
                                <p class="report-value" id="collection-rate">0%</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Invoices Section -->
            <section id="invoices" class="section">
                <div class="section-header">
                    <h2>Invoice Management</h2>
                    <div class="invoice-subsection-nav">
                        <button class="subsection-btn active" data-subsection="generate">
                            <i class="fas fa-file-plus"></i> Generate Invoice
                        </button>
                        <button class="subsection-btn" data-subsection="manage">
                            <i class="fas fa-list"></i> Manage Invoices
                        </button>
                        <button class="subsection-btn" data-subsection="templates">
                            <i class="fas fa-file-alt"></i> Templates
                        </button>
                        <button class="subsection-btn" data-subsection="reports">
                            <i class="fas fa-chart-bar"></i> Reports
                        </button>
                    </div>
                </div>

                <!-- Generate Invoice Subsection -->
                <div id="invoice-generate" class="invoice-subsection active">
                    <div class="subsection-header">
                        <h3>Generate Invoice</h3>
                        <button class="btn btn-primary" id="generate-invoice-btn">
                            <i class="fas fa-file-plus"></i> Create New Invoice
                        </button>
                    </div>
                    <div class="invoice-generation-content">
                        <p>Generate invoices for members, events, or custom billing.</p>
                        <!-- Invoice generation form will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Manage Invoices Subsection -->
                <div id="invoice-manage" class="invoice-subsection">
                    <div class="subsection-header">
                        <h3>Manage Invoices</h3>
                        <div class="invoice-actions">
                            <button class="btn btn-secondary btn-small" id="filter-invoices">
                                <i class="fas fa-filter"></i> Filter
                            </button>
                        </div>
                    </div>
                    <div class="invoice-list" id="invoice-list">
                        <!-- Invoices will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Invoice Templates Subsection -->
                <div id="invoice-templates" class="invoice-subsection">
                    <div class="subsection-header">
                        <h3>Invoice Templates</h3>
                        <button class="btn btn-primary" id="create-template-btn">
                            <i class="fas fa-plus"></i> Create Template
                        </button>
                    </div>
                    <div class="templates-content">
                        <p>Manage invoice templates for different types of billing.</p>
                        <!-- Templates will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Invoice Reports Subsection -->
                <div id="invoice-reports" class="invoice-subsection">
                    <div class="subsection-header">
                        <h3>Invoice Reports</h3>
                        <button class="btn btn-success" id="export-invoice-report">
                            <i class="fas fa-download"></i> Export Report
                        </button>
                    </div>
                    <div class="invoice-reports-content">
                        <div class="report-summary">
                            <div class="report-card">
                                <h4>Total Invoices</h4>
                                <p class="report-value" id="total-invoices">0</p>
                            </div>
                            <div class="report-card">
                                <h4>Total Amount</h4>
                                <p class="report-value" id="total-invoice-amount">₹0</p>
                            </div>
                            <div class="report-card">
                                <h4>Paid Invoices</h4>
                                <p class="report-value" id="paid-invoices">0</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Expenses Section -->
            <section id="expenses" class="section">
                <div class="section-header">
                    <h2>Expense Management</h2>
                    <div class="expense-subsection-nav">
                        <button class="subsection-btn active" data-subsection="add">
                            <i class="fas fa-plus"></i> Add Expense
                        </button>
                        <button class="subsection-btn" data-subsection="manage">
                            <i class="fas fa-list"></i> Manage Expenses
                        </button>
                        <button class="subsection-btn" data-subsection="categories">
                            <i class="fas fa-tags"></i> Categories
                        </button>
                        <button class="subsection-btn" data-subsection="reports">
                            <i class="fas fa-chart-line"></i> Reports
                        </button>
                    </div>
                </div>

                <!-- Add Expense Subsection -->
                <div id="expense-add" class="expense-subsection active">
                    <div class="subsection-header">
                        <h3>Add Expense</h3>
                        <button class="btn btn-primary" id="add-expense-btn">
                            <i class="fas fa-plus"></i> Create New Expense
                        </button>
                    </div>
                    <div class="expense-add-content">
                        <p>Add new expenses for club activities, equipment, and maintenance.</p>
                        <!-- Expense form will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Manage Expenses Subsection -->
                <div id="expense-manage" class="expense-subsection">
                    <div class="subsection-header">
                        <h3>Manage Expenses</h3>
                        <div class="expense-summary">
                            <div class="expense-card">
                                <h4>Total Expenses</h4>
                                <p id="total-expenses">₹0</p>
                            </div>
                            <div class="expense-card">
                                <h4>This Month</h4>
                                <p id="month-expenses">₹0</p>
                            </div>
                            <div class="expense-card">
                                <h4>Pending</h4>
                                <p id="pending-reimbursements">₹0</p>
                            </div>
                        </div>
                    </div>

                    <div class="expense-filters">
                        <input type="text" id="expense-search" placeholder="Search expenses..." class="search-input">
                        <select id="expense-category-filter" class="filter-select">
                            <option value="">All Categories</option>
                            <option value="Equipment">Equipment</option>
                            <option value="Maintenance">Maintenance</option>
                            <option value="Events">Events</option>
                            <option value="Utilities">Utilities</option>
                            <option value="Other">Other</option>
                        </select>
                        <select id="expense-status-filter" class="filter-select">
                            <option value="">All Status</option>
                            <option value="Paid">Paid</option>
                            <option value="Pending">Pending</option>
                            <option value="Reimbursed">Reimbursed</option>
                        </select>
                    </div>

                    <div class="table-container">
                        <div class="mobile-scroll-hint">← Scroll horizontally to see all columns →</div>
                        <table class="expenses-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Description</th>
                                    <th>Category</th>
                                    <th>Amount</th>
                                    <th>Paid By</th>
                                    <th>Status</th>
                                    <th>Receipt</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="expenses-table-body">
                                <!-- Expenses will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Categories Subsection -->
                <div id="expense-categories" class="expense-subsection">
                    <div class="subsection-header">
                        <h3>Expense Categories</h3>
                        <button class="btn btn-primary" id="manage-categories-btn">
                            <i class="fas fa-cog"></i> Manage Categories
                        </button>
                    </div>
                    <div class="categories-content">
                        <p>Manage expense categories for better organization and reporting.</p>
                        <!-- Categories management will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Expense Reports Subsection -->
                <div id="expense-reports" class="expense-subsection">
                    <div class="subsection-header">
                        <h3>Expense Reports</h3>
                        <button class="btn btn-success" id="export-expense-report">
                            <i class="fas fa-download"></i> Export Report
                        </button>
                    </div>
                    <div class="expense-reports-content">
                        <div class="report-summary">
                            <div class="report-card">
                                <h4>Total Expenses</h4>
                                <p class="report-value" id="report-total-expenses">₹0</p>
                            </div>
                            <div class="report-card">
                                <h4>Average Monthly</h4>
                                <p class="report-value" id="average-monthly-expense">₹0</p>
                            </div>
                            <div class="report-card">
                                <h4>Top Category</h4>
                                <p class="report-value" id="top-expense-category">-</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Contributions Section -->
            <section id="contributions" class="section">
                <div class="section-header">
                    <h2>Individual & External Contributions</h2>
                    <div class="contribution-subsection-nav">
                        <button class="subsection-btn active" data-subsection="add">
                            <i class="fas fa-plus"></i> Add Contribution
                        </button>
                        <button class="subsection-btn" data-subsection="manage">
                            <i class="fas fa-list"></i> Manage Contributions
                        </button>
                        <button class="subsection-btn" data-subsection="types">
                            <i class="fas fa-category"></i> Types
                        </button>
                        <button class="subsection-btn" data-subsection="reports">
                            <i class="fas fa-chart-pie"></i> Reports
                        </button>
                    </div>
                </div>

                <!-- Add Contribution Subsection -->
                <div id="contribution-add" class="contribution-subsection active">
                    <div class="subsection-header">
                        <h3>Add Contribution</h3>
                        <button class="btn btn-primary" id="add-contribution-btn">
                            <i class="fas fa-plus"></i> Create New Contribution
                        </button>
                    </div>
                    <div class="contribution-add-content">
                        <p>Record new contributions from members, external donors, or sponsors.</p>
                        <!-- Contribution form will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Manage Contributions Subsection -->
                <div id="contribution-manage" class="contribution-subsection">
                    <div class="subsection-header">
                        <h3>Manage Contributions</h3>
                        <div class="contribution-summary">
                            <div class="contribution-card">
                                <h4>Total Contributions</h4>
                                <p id="total-contributions">₹0</p>
                            </div>
                            <div class="contribution-card">
                                <h4>Member Contributions</h4>
                                <p id="member-contributions">₹0</p>
                            </div>
                            <div class="contribution-card">
                                <h4>External Contributions</h4>
                                <p id="external-contributions">₹0</p>
                            </div>
                        </div>
                    </div>

                    <div class="contribution-filters">
                        <input type="text" id="contribution-search" placeholder="Search contributions..." class="search-input">
                        <select id="contribution-type-filter" class="filter-select">
                            <option value="">All Types</option>
                            <option value="Member">Member Contribution</option>
                            <option value="External">External Contribution</option>
                            <option value="Donation">Donation</option>
                            <option value="Sponsorship">Sponsorship</option>
                        </select>
                    </div>

                    <div class="table-container">
                        <div class="mobile-scroll-hint">← Scroll horizontally to see all columns →</div>
                        <table class="contributions-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Contributor Name</th>
                                    <th>Villa/Location</th>
                                    <th>Type</th>
                                    <th>Purpose</th>
                                    <th>Amount</th>
                                    <th>Receipt</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="contributions-table-body">
                                <!-- Contributions will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Contribution Types Subsection -->
                <div id="contribution-types" class="contribution-subsection">
                    <div class="subsection-header">
                        <h3>Contribution Types</h3>
                        <button class="btn btn-primary" id="manage-contribution-types-btn">
                            <i class="fas fa-cog"></i> Manage Types
                        </button>
                    </div>
                    <div class="contribution-types-content">
                        <p>Manage different types of contributions for better categorization.</p>
                        <!-- Contribution types management will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Contribution Reports Subsection -->
                <div id="contribution-reports" class="contribution-subsection">
                    <div class="subsection-header">
                        <h3>Contribution Reports</h3>
                        <button class="btn btn-success" id="export-contribution-report">
                            <i class="fas fa-download"></i> Export Report
                        </button>
                    </div>
                    <div class="contribution-reports-content">
                        <div class="report-summary">
                            <div class="report-card">
                                <h4>Total Contributions</h4>
                                <p class="report-value" id="report-total-contributions">₹0</p>
                            </div>
                            <div class="report-card">
                                <h4>Top Contributor</h4>
                                <p class="report-value" id="top-contributor">-</p>
                            </div>
                            <div class="report-card">
                                <h4>Average Amount</h4>
                                <p class="report-value" id="average-contribution">₹0</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Events Section -->
            <section id="events" class="section">
                <h2>Events & Notifications</h2>

                <div class="events-header">
                    <div class="events-actions">
                        <button class="btn btn-primary" id="add-event-btn">
                            <i class="fas fa-plus"></i> Add Event
                        </button>
                        <button class="btn btn-secondary" id="manage-notifications-btn">
                            <i class="fas fa-bell"></i> Notification Settings
                        </button>
                    </div>
                </div>

                <div class="events-container">
                    <div class="upcoming-events">
                        <h3>Upcoming Events</h3>
                        <div id="upcoming-events-list">
                            <!-- Upcoming events will be populated by JavaScript -->
                        </div>
                    </div>

                    <div class="all-events">
                        <h3>All Events</h3>
                        <div class="events-filters">
                            <select id="event-type-filter">
                                <option value="">All Types</option>
                                <option value="tournament">Tournament</option>
                                <option value="meeting">Meeting</option>
                                <option value="fee_reminder">Fee Reminder</option>
                                <option value="maintenance">Maintenance</option>
                                <option value="orientation">Orientation</option>
                                <option value="other">Other</option>
                            </select>
                            <select id="event-priority-filter">
                                <option value="">All Priorities</option>
                                <option value="high">High Priority</option>
                                <option value="medium">Medium Priority</option>
                                <option value="low">Low Priority</option>
                            </select>
                        </div>
                        <div id="all-events-list">
                            <!-- All events will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Reports Section -->
            <section id="reports" class="section">
                <h2>Reports & Analytics</h2>
                <div class="report-cards">
                    <div class="report-card">
                        <h3>Financial Summary</h3>
                        <div id="financial-summary">
                            <!-- Financial data will be populated by JavaScript -->
                        </div>
                    </div>
                    <div class="report-card">
                        <h3>Member Statistics</h3>
                        <div id="member-statistics">
                            <!-- Member stats will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <div class="export-options">
                    <button class="btn btn-secondary" id="export-members">
                        <i class="fas fa-download"></i> Export Members
                    </button>
                    <button class="btn btn-secondary" id="export-financial">
                        <i class="fas fa-download"></i> Export Financial Data
                    </button>
                    <button class="btn btn-primary" id="backup-data">
                        <i class="fas fa-save"></i> Backup Database
                    </button>
                    <button class="btn btn-success" id="download-json">
                        <i class="fas fa-file-download"></i> Download JSON
                    </button>
                    <button class="btn btn-warning" id="import-json">
                        <i class="fas fa-file-upload"></i> Import JSON
                    </button>
                    <button class="btn btn-danger" id="reset-data" title="Reset to original database">
                        <i class="fas fa-refresh"></i> Reset to Original
                    </button>
                    <input type="file" id="json-file-input" accept=".json" style="display: none;">
                </div>
            </section>
        </main>
    </div>

    <!-- Modals -->
    <div id="member-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modal-title">Add New Member</h2>
            <form id="member-form">
                <div class="form-group">
                    <label for="member-name">Name:</label>
                    <input type="text" id="member-name" required>
                </div>
                <div class="form-group">
                    <label for="member-villa">Villa No:</label>
                    <input type="text" id="member-villa" required>
                </div>
                <div class="form-group">
                    <label for="member-status">Status:</label>
                    <select id="member-status" required>
                        <option value="">Select Status</option>
                        <option value="FOUNDING MEMBER">Founding Member</option>
                        <option value="NEW MEMBER">New Member</option>
                        <option value="APPROVED FOR MEMBERSHIP">Approved for Membership</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="membership-fee">Initial Membership Fee:</label>
                    <input type="number" id="membership-fee" value="3000">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancel-member">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Member</button>
                </div>
            </form>
        </div>
    </div>

    <div id="fee-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Collect Fee</h2>
            <form id="fee-form">
                <div class="form-group">
                    <label for="fee-member">Select Member:</label>
                    <select id="fee-member" required>
                        <option value="">Select Member</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="fee-type">Fee Type:</label>
                    <select id="fee-type" required>
                        <option value="">Select Fee Type</option>
                        <option value="annual_2023">Annual Fee 2023</option>
                        <option value="annual_2024">Annual Fee 2024</option>
                        <option value="annual_2025">Annual Fee 2025</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="fee-amount">Amount:</label>
                    <input type="number" id="fee-amount" required>
                </div>
                <div class="form-group">
                    <label for="payment-date">Payment Date:</label>
                    <input type="date" id="payment-date" required>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancel-fee">Cancel</button>
                    <button type="submit" class="btn btn-primary">Collect Fee</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Expense Modal -->
    <div id="expense-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="expense-modal-title">Add New Expense</h2>
            <form id="expense-form">
                <div class="form-group">
                    <label for="expense-date">Date:</label>
                    <input type="date" id="expense-date" required>
                </div>
                <div class="form-group">
                    <label for="expense-description">Description:</label>
                    <input type="text" id="expense-description" placeholder="e.g., Table tennis balls, Net repair" required>
                </div>
                <div class="form-group">
                    <label for="expense-category">Category:</label>
                    <select id="expense-category" required>
                        <option value="">Select Category</option>
                        <option value="Equipment">Equipment</option>
                        <option value="Maintenance">Maintenance</option>
                        <option value="Events">Events</option>
                        <option value="Utilities">Utilities</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="expense-amount">Amount (₹):</label>
                    <input type="number" id="expense-amount" min="0" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="expense-paid-by">Paid By:</label>
                    <input type="text" id="expense-paid-by" placeholder="Name of person who paid" required>
                </div>
                <div class="form-group">
                    <label for="expense-status">Status:</label>
                    <select id="expense-status" required>
                        <option value="Paid">Paid</option>
                        <option value="Pending">Pending</option>
                        <option value="Reimbursed">Reimbursed</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="expense-receipt">Receipt/Notes:</label>
                    <textarea id="expense-receipt" placeholder="Receipt details or additional notes" rows="3"></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancel-expense">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Expense</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Contribution Modal -->
    <div id="contribution-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="contribution-modal-title">Add New Contribution</h2>
            <form id="contribution-form">
                <div class="form-group">
                    <label for="contribution-date">Date:</label>
                    <input type="date" id="contribution-date" required>
                </div>
                <div class="form-group">
                    <label for="contribution-name">Contributor Name:</label>
                    <input type="text" id="contribution-name" placeholder="Full name of contributor" required>
                </div>
                <div class="form-group">
                    <label for="contribution-location">Villa/Location:</label>
                    <input type="text" id="contribution-location" placeholder="Villa number or location" required>
                </div>
                <div class="form-group">
                    <label for="contribution-type">Type:</label>
                    <select id="contribution-type" required>
                        <option value="">Select Type</option>
                        <option value="Member">Member Contribution</option>
                        <option value="External">External Contribution</option>
                        <option value="Donation">Donation</option>
                        <option value="Sponsorship">Sponsorship</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="contribution-purpose">Purpose:</label>
                    <input type="text" id="contribution-purpose" placeholder="e.g., Equipment fund, Tournament sponsorship" required>
                </div>
                <div class="form-group">
                    <label for="contribution-amount">Amount (₹):</label>
                    <input type="number" id="contribution-amount" min="0" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="contribution-receipt">Receipt/Notes:</label>
                    <textarea id="contribution-receipt" placeholder="Receipt details or additional notes" rows="3"></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancel-contribution">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Contribution</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Pending Fee Modal -->
    <div id="pending-fee-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Add Pending Fee</h2>
            <form id="pending-fee-form">
                <div class="form-group">
                    <label for="pending-fee-member">Member:</label>
                    <select id="pending-fee-member" required>
                        <option value="">Select Member</option>
                        <!-- Members will be populated by JavaScript -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="pending-fee-type">Fee Type:</label>
                    <select id="pending-fee-type" required>
                        <!-- Fee types will be populated by JavaScript -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="pending-fee-amount">Amount (₹):</label>
                    <input type="number" id="pending-fee-amount" min="0" step="1" value="500" required>
                </div>
                <div class="form-group">
                    <label for="pending-fee-due-date">Due Date:</label>
                    <input type="date" id="pending-fee-due-date" required>
                </div>
                <div class="form-group">
                    <label for="pending-fee-notes">Notes (Optional):</label>
                    <textarea id="pending-fee-notes" placeholder="Additional notes about this pending fee" rows="3"></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancel-pending-fee">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Pending Fee</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Fee Years Management Modal -->
    <div id="fee-years-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Manage Fee Years</h2>

            <div class="current-years-section">
                <h3>Current Fee Years</h3>
                <div id="current-fee-years" class="fee-years-list">
                    <!-- Current years will be populated by JavaScript -->
                </div>
            </div>

            <div class="add-year-section">
                <h3>Add New Fee Year</h3>
                <form id="add-fee-year-form">
                    <div class="form-group">
                        <label for="new-fee-year">Year:</label>
                        <input type="number" id="new-fee-year" min="2023" max="2050" required>
                    </div>
                    <div class="form-group">
                        <label for="new-fee-amount">Default Annual Fee Amount (₹):</label>
                        <input type="number" id="new-fee-amount" min="0" step="1" value="500" required>
                    </div>
                    <div class="form-group">
                        <label for="fee-year-description">Description (Optional):</label>
                        <input type="text" id="fee-year-description" placeholder="e.g., Regular annual fee, Special assessment">
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancel-fee-year">Cancel</button>
                        <button type="submit" class="btn btn-primary">Add Fee Year</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Member Fee Modal -->
    <div id="edit-member-fee-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Edit Member Fee</h2>
            <form id="edit-member-fee-form">
                <div class="member-fee-info">
                    <p><strong>Member:</strong> <span id="edit-fee-member-name"></span></p>
                    <p><strong>Fee Year:</strong> <span id="edit-fee-year"></span></p>
                    <p><strong>Current Amount:</strong> ₹<span id="edit-fee-current-amount"></span></p>
                </div>

                <div class="form-group">
                    <label for="edit-fee-new-amount">New Amount (₹):</label>
                    <input type="number" id="edit-fee-new-amount" min="0" step="1" required>
                </div>

                <div class="form-group">
                    <label for="edit-fee-reason">Reason for Change:</label>
                    <select id="edit-fee-reason" required>
                        <option value="">Select Reason</option>
                        <option value="Data Entry Error">Data Entry Error</option>
                        <option value="Partial Payment Correction">Partial Payment Correction</option>
                        <option value="Refund Applied">Refund Applied</option>
                        <option value="Late Fee Added">Late Fee Added</option>
                        <option value="Discount Applied">Discount Applied</option>
                        <option value="Administrative Adjustment">Administrative Adjustment</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="edit-fee-notes">Additional Notes (Optional):</label>
                    <textarea id="edit-fee-notes" placeholder="Explain the reason for this fee adjustment" rows="3"></textarea>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancel-edit-fee">Cancel</button>
                    <button type="submit" class="btn btn-primary">Update Fee</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Event Modal -->
    <div id="event-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="event-modal-title">Add Event</h2>
            <form id="event-form">
                <div class="form-group">
                    <label for="event-title">Event Title:</label>
                    <input type="text" id="event-title" required placeholder="Enter event title">
                </div>

                <div class="form-group">
                    <label for="event-description">Description:</label>
                    <textarea id="event-description" rows="3" placeholder="Enter event description"></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="event-date">Date:</label>
                        <input type="date" id="event-date" required>
                    </div>
                    <div class="form-group">
                        <label for="event-time">Time:</label>
                        <input type="time" id="event-time" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="event-type">Type:</label>
                        <select id="event-type" required>
                            <option value="">Select Type</option>
                            <option value="tournament">Tournament</option>
                            <option value="meeting">Meeting</option>
                            <option value="fee_reminder">Fee Reminder</option>
                            <option value="maintenance">Maintenance</option>
                            <option value="orientation">Orientation</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="event-priority">Priority:</label>
                        <select id="event-priority" required>
                            <option value="">Select Priority</option>
                            <option value="high">High</option>
                            <option value="medium">Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Save Event
                    </button>
                    <button type="button" class="btn btn-secondary" id="cancel-event">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="db.js"></script>
    <script src="app.js"></script>
</body>
</html>
